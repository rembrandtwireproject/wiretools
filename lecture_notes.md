
# WIRE branch porting

First presented in class on Fri 9/7/17
Notes compiled for class on Fri 9/15/17

Amanda House (aeh247)

## Overview

Target audience:

Members of the WIRE project familiar with the watermark decision tree and the previous version of the code. Experience with creating branches in the old version is helpful.

Goal:

This semester, we will port existing watermark branches from the old version of the code to the new version. This document is a guide to the new method: the model and the script, collectively called the tool, which generates the website.

## Why the new version

Links:

* Single-Headed Eagle branch, [old version](https://github.com/rembrandtwireproject/wiretools/tree/master/branch_example_v1).
* Single-Headed Eagle branch, [new version](https://github.com/rembrandtwireproject/rembrandtwireproject.github.io/tree/master/single_headed_eagle).

Old branch code:

* Excessive folder nesting.
* Duplication of static resources.
    * Stale data.
    * Larger size than necessary.
* Naming inconsistency.
* Manual editing.
    * Requires editing every file in every subfolder, for any change.

To rectify this:

* Flat file structure.
    * One folder per branch.
    * Contains all question and watermark pages.
* One copy of shared resources.
    * All website-wide resources in a folder one level up.
* A systematic naming schema.
* No manual editing of code for art history students.
    * Via a script that takes the model and generates the website pages.
    * What's a model? Next...

## Brief explanation of the tool

Model:

* Look at several pages of the same type.
    * Question pages.
    * Watermark pages.
    * General website pages.
* What do each of these pages have in common?
    * A question, two possible next pages based on the answer, supporting description text, etc.
    * A watermark name, description, image.
* The model is the raw data of the unique information for each page.
* See the [Single-Headed Eagle branch model](https://github.com/rembrandtwireproject/wiretools/tree/master/branch_generator/single_headed_eagle).

Script:

* The script takes the model and generates the website pages.
    * From template HTML pages.
    * Replacing the placeholder code with the data from the model.
* This might sound familiar to those who edited the code directly in previous semesters.
    * The script essentially imitates what you would do.
    * Copy, paste, replace the changed parts.
* Can edit the template and rerun the script as much as you'd like.
    * So major design changes would necessitate (almost) no extra work to convert each page.

## The practical guide to porting a branch

This section explains the porting process via an example, using the Single-Headed Eagle branch, the flagship branch for the Sep 23 exhibition.

Links:

* The [old version of the branch](https://github.com/rembrandtwireproject/wiretools/tree/master/branch_example_v1) we want to port from.
* The [tool](https://github.com/rembrandtwireproject/wiretools/tree/master/branch_generator/single_headed_eagle) we're using.
    * Since this example is already complete, you can follow along with the Single-Headed Eagle model in the folder.
* The [new branch](https://github.com/rembrandtwireproject/rembrandtwireproject.github.io/tree/master/single_headed_eagle) that gets generated by the tool.

Step by step:

* Fill out a form for each page.
* General advice: start with the naming.
    * What's naming?
        * Each page - question or watermark - needs a unique identifier.
        * This is called the "short name" in the forms.
    * For questions:
        * A bit of an art.
        * Make a short name by taking the most important words in the question.
        * Lowercase all and use underscores instead of spaces.
    * For watermarks:
        * More straightforward.
        * Take the watermark name and the subvariant letters.
    * Why start with the name?
        * Each form needs links to other pages: back, restart, two next.
        * If you know all the names up front, it streamlines the process.
* The form is a CSV file.
    * Can think of CSV as a very simple version of a spreadsheet.
    * Open the form in Excel (or equivalent).
    * Make the CSV file name the same as the short name.
        * For clarity.
* To handle images on each page:
    * If there is only one image on the page:
        * Name the image the same name as the short name.
        * Do NOT edit anything below the "OPTIONAL" row.
        * (This applies to both watermark and question pages.)
    * If there are 4 comparison images on the page:
        * Full vs magnified, yes vs no (to the question being asked).
        * Fill out the form below the "OPTIONAL" row.
        * (This is only possible for question pages.)

## Assignments for next week

* Split up into teams.
    * Each team should have at least 1 student who has created branches in previous semesters.
* Tackle the branches.
* Send the files to Katarina and Amanda.
    * The CSV files for the pages you handled.
    * And all images for those pages, named according to the above.
